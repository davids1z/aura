<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura | Rezervacija</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <meta name="description" content="Rezervirajte stol u Aura Fine Dining restoranu. Ekskluzivno gastronomsko iskustvo u Zagrebu.">
    <meta property="og:title" content="Aura | Rezervacija">
    <meta property="og:description" content="Rezervirajte stol za nezaboravno gastronomsko iskustvo.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'], serif: ['Playfair Display', 'Georgia', 'serif'] },
                    colors: { gold: { DEFAULT: '#c9a96e', light: '#dfc598', dark: '#a88a4e' } },
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; overflow-x: hidden; background: #0a0a0a; }
        ::selection { background: #c9a96e; color: #0a0a0a; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(10, 10, 10, 0.9); }
        ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #c9a96e, #a88a4e); border-radius: 4px; border: 2px solid transparent; background-clip: padding-box; }
        ::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, #dfc598, #c9a96e); border-radius: 4px; border: 2px solid transparent; background-clip: padding-box; }
        * { scrollbar-width: thin; scrollbar-color: #c9a96e rgba(10, 10, 10, 0.9); }

        .glass { background: rgba(255,255,255,0.03); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.06); }
        .glass-strong { background: rgba(255,255,255,0.05); backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px); border: 1px solid rgba(255,255,255,0.08); }

        .reveal-up { opacity: 0; transform: translateY(60px); transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal-up.visible { opacity: 1; transform: translateY(0); }
        .reveal-scale { opacity: 0; transform: scale(0.95); transition: all 1.4s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal-scale.visible { opacity: 1; transform: scale(1); }
        .delay-1 { transition-delay: 0.15s !important; }
        .delay-2 { transition-delay: 0.3s !important; }
        .delay-3 { transition-delay: 0.45s !important; }

        .scroll-reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.4s cubic-bezier(0.16, 1, 0.3, 1), transform 1.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .scroll-reveal.visible { opacity: 1; transform: translateY(0); }

        .footer-link { transition: all 0.3s ease; position: relative; }
        .footer-link::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 0; height: 1px; background: #c9a96e; transition: width 0.3s ease; }
        .footer-link:hover::after { width: 100%; }

        .form-input { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); color: white; transition: all 0.3s ease; }
        .form-input:focus { outline: none; border-color: rgba(201,169,110,0.4); box-shadow: 0 0 20px rgba(201,169,110,0.05); }
        .form-input::placeholder { color: rgba(255,255,255,0.2); }

        .modal-overlay {
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            overflow: hidden;
        }

        .fade-in { animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hide reservation form until authenticated */
        .content-hidden { opacity: 0; pointer-events: none; }
        .content-visible { animation: contentReveal 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes contentReveal {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Slot buttons */
        .slot-btn { transition: all 0.15s ease; }
        .slot-btn:hover:not(:disabled):not(.slot-full) { transform: scale(1.02); }
        .slot-btn.selected {
            background: #c9a96e !important;
            border-color: #c9a96e !important;
            box-shadow: 0 4px 20px rgba(201,169,110,0.3);
        }
        .slot-btn.selected span { color: #0a0a0a !important; text-decoration: none !important; }
        .slot-btn.slot-full {
            background: rgba(239,68,68,0.1);
            border-color: rgba(239,68,68,0.2);
            cursor: not-allowed;
        }
        .slot-btn.slot-full .slot-time {
            text-decoration: line-through;
            color: #ef4444;
        }
        .slot-btn.slot-full .slot-status {
            text-decoration: none;
            color: #ef4444;
            font-weight: 500;
        }

        /* Calendar */
        .cal-day {
            transition: all 0.2s ease;
            aspect-ratio: 1;
            border-radius: 10px;
            font-weight: 500;
        }
        .cal-day:hover:not(.cal-disabled):not(.cal-closed):not(.cal-past):not(.cal-full) {
            transform: scale(1.05);
        }
        .cal-day.cal-selected {
            background: #c9a96e !important;
            color: #0a0a0a !important;
            font-weight: 700;
        }
        .cal-day.cal-available {
            background: rgba(16,185,129,0.15);
            color: #6ee7b7;
            cursor: pointer;
        }
        .cal-day.cal-limited {
            background: rgba(245,158,11,0.15);
            color: #fbbf24;
            cursor: pointer;
        }
        .cal-day.cal-full {
            background: rgba(239,68,68,0.15);
            color: #fca5a5;
            cursor: not-allowed;
        }
        .cal-day.cal-closed {
            background: rgba(255,255,255,0.03);
            color: rgba(255,255,255,0.2);
            cursor: not-allowed;
            text-decoration: line-through;
        }
        .cal-day.cal-past {
            background: rgba(255,255,255,0.02);
            color: rgba(255,255,255,0.15);
            cursor: not-allowed;
        }
        .cal-day.cal-disabled {
            visibility: hidden;
        }
        .cal-day.cal-today:not(.cal-selected) {
            outline: 2px solid #c9a96e;
            outline-offset: -2px;
        }
    </style>
</head>
<body class="text-white antialiased">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 transition-all duration-500 bg-[#0a0a0a]/90 backdrop-blur-lg border-b border-white/[0.03] px-4 py-3 sm:px-6 sm:py-4 md:px-8">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="/" class="group">
                <span class="text-lg sm:text-xl md:text-2xl tracking-[0.4em] sm:tracking-[0.5em] md:tracking-[0.6em] uppercase font-light text-white group-hover:text-gold transition-colors duration-500">Aura</span>
            </a>
            <div class="hidden md:flex items-center gap-8 lg:gap-12">
                <a href="index.html" class="text-[10px] uppercase tracking-[0.2em] text-white/60 hover:text-gold transition-colors duration-300" data-i18n="home">Pocetna</a>
                <a href="menu.html" class="text-[10px] uppercase tracking-[0.2em] text-white/60 hover:text-gold transition-colors duration-300" data-i18n="menu">Menu</a>
                <a href="reservation.html" class="text-[10px] uppercase tracking-[0.2em] text-gold border-b border-gold/30 pb-1" data-i18n="reservation">Rezervacija</a>
                <a href="contact.html" class="text-[10px] uppercase tracking-[0.2em] text-white/60 hover:text-gold transition-colors duration-300" data-i18n="contact">Kontakt</a>
            </div>
            <button onclick="toggleMobileMenu()" class="md:hidden w-10 h-10 flex flex-col items-center justify-center gap-1.5">
                <span class="menu-line block w-5 h-[1px] bg-white transition-all duration-300"></span>
                <span class="menu-line block w-5 h-[1px] bg-white transition-all duration-300"></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed inset-0 z-40 bg-black/98 flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-all duration-500 md:hidden">
        <a href="index.html" class="text-white text-base tracking-[0.3em] uppercase font-light hover:text-gold transition" data-i18n="home">Pocetna</a>
        <a href="menu.html" class="text-white text-base tracking-[0.3em] uppercase font-light hover:text-gold transition" data-i18n="menu">Menu</a>
        <a href="reservation.html" class="text-gold text-base tracking-[0.3em] uppercase font-light" data-i18n="reservation">Rezervacija</a>
        <a href="contact.html" class="text-white text-base tracking-[0.3em] uppercase font-light hover:text-gold transition" data-i18n="contact">Kontakt</a>
        <div class="w-10 h-[1px] bg-gold/30 my-2"></div>
        <a href="reservation.html" class="px-6 py-2.5 border border-gold/40 text-gold text-[10px] uppercase tracking-[0.2em] rounded-full" data-i18n="ctaButton">Rezervirajte</a>
    </div>

    <!-- AUTH MODAL -->
    <div id="auth-modal" class="fixed inset-0 modal-overlay z-50 flex items-center justify-center p-4 hidden">
        <div class="absolute inset-0"></div>

        <div class="glass-strong w-full max-w-[400px] p-8 rounded-[2rem] shadow-2xl relative fade-in" style="background: rgba(15,15,15,0.95); border: 1px solid rgba(255,255,255,0.08);">
            <a href="javascript:void(0)" onclick="history.back()" class="absolute top-5 left-5 w-8 h-8 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white/40" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </a>

            <!-- Register Form -->
            <div id="register-form-container">
                <div class="text-center mb-8">
                    <h2 class="text-xl font-light tracking-[0.3em] uppercase text-white" data-i18n="register">Registracija</h2>
                    <p class="text-xs text-white/30 mt-2" data-i18n="registerSubtitle">Kreirajte racun za rezervacije</p>
                </div>

                <form id="register-form" class="space-y-4">
                    <input type="text" id="reg-name" data-i18n="fullName" required
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Puno ime">
                    <input type="email" id="reg-email" data-i18n="email" required
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Email">
                    <input type="tel" id="reg-phone" data-i18n="phone" required
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Telefon">
                    <input type="password" id="reg-password" data-i18n="passwordHint" required minlength="6"
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Lozinka (min. 6 znakova)">

                    <div id="register-error" class="text-red-400 text-xs text-center hidden"></div>

                    <button type="submit" class="w-full bg-gold text-black py-4 rounded-xl hover:shadow-[0_0_30px_rgba(201,169,110,0.3)] transition-all text-[10px] uppercase tracking-[0.3em] font-medium" data-i18n="registerBtn">
                        Registriraj se
                    </button>
                </form>

                <div class="text-center mt-6 pt-4 border-t border-white/5">
                    <p class="text-xs text-white/30" data-i18n="hasAccount">Imate racun?</p>
                    <button onclick="showLogin()" class="text-xs text-gold hover:text-gold-light font-medium mt-1" data-i18n="loginLink">
                        Prijavite se
                    </button>
                </div>
            </div>

            <!-- Login Form -->
            <div id="login-form-container" class="hidden">
                <div class="text-center mb-8">
                    <h2 class="text-xl font-light tracking-[0.3em] uppercase text-white" data-i18n="login">Prijava</h2>
                    <p class="text-xs text-white/30 mt-2" data-i18n="loginSubtitle">Prijavite se za nastavak</p>
                </div>

                <form id="login-form" class="space-y-4">
                    <input type="email" id="login-email" data-i18n="email" required
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Email">
                    <input type="password" id="login-password" data-i18n="password" required
                        class="form-input w-full rounded-xl p-4 text-sm font-light" placeholder="Lozinka">

                    <div id="login-error" class="text-red-400 text-xs text-center hidden"></div>

                    <button type="submit" class="w-full bg-gold text-black py-4 rounded-xl hover:shadow-[0_0_30px_rgba(201,169,110,0.3)] transition-all text-[10px] uppercase tracking-[0.3em] font-medium" data-i18n="loginBtn">
                        Prijavi se
                    </button>
                </form>

                <div class="text-center mt-6 pt-4 border-t border-white/5">
                    <p class="text-xs text-white/30" data-i18n="noAccount">Nemate racun?</p>
                    <button onclick="showRegister()" class="text-xs text-gold hover:text-gold-light font-medium mt-1" data-i18n="registerLink">
                        Registrirajte se
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero -->
    <section class="relative pt-24 pb-8 sm:pt-28 sm:pb-10 md:pt-36 md:pb-14 lg:pt-44 lg:pb-16 overflow-hidden">
        <div class="absolute top-0 right-0 w-[300px] sm:w-[400px] md:w-[500px] h-[300px] sm:h-[400px] md:h-[500px] bg-gold/[0.02] rounded-full blur-[100px] md:blur-[150px]"></div>
        <div class="absolute bottom-0 left-0 w-[200px] sm:w-[250px] md:w-[300px] h-[200px] sm:h-[250px] md:h-[300px] bg-gold/[0.015] rounded-full blur-[80px] md:blur-[100px]"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-12 text-center">
            <div class="flex items-center justify-center gap-3 mb-4 sm:mb-6 reveal-up">
                <div class="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gold/40 rotate-45"></div>
                <span class="text-[9px] sm:text-[10px] uppercase tracking-[0.3em] sm:tracking-[0.5em] text-gold/70" data-i18n="season2026">Sezona 2026</span>
                <div class="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gold/40 rotate-45"></div>
            </div>
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-serif italic font-light mb-4 sm:mb-6 reveal-up delay-1" data-i18n="reservationTitle">Rezervirajte iskustvo.</h1>
            <p class="text-white/30 text-xs sm:text-sm max-w-sm sm:max-w-md md:max-w-lg mx-auto font-light leading-relaxed reveal-up delay-2" data-i18n="reservationSubtitle">
                Odaberite datum, termin i broj gostiju. Prepustite se nezaboravnom gastronomskom putovanju.
            </p>
        </div>
    </section>

    <!-- MAIN RESERVATION FORM -->
    <section class="pb-32 md:pb-40">
        <div class="max-w-[560px] mx-auto px-4 sm:px-6">
            <div id="reservationCard" class="glass rounded-[2rem] p-6 sm:p-8 md:p-10 relative content-hidden reveal-scale" style="background: rgba(15,15,15,0.6); border: 1px solid rgba(255,255,255,0.06);">

                <!-- User Info Bar -->
                <div id="user-bar" class="hidden absolute top-3 right-3 sm:top-5 sm:right-5 flex items-center gap-2 bg-white/5 rounded-full pl-3 sm:pl-4 pr-2 py-1.5 sm:py-2 max-w-[60%] sm:max-w-none border border-white/5">
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded-full bg-gold/20 flex items-center justify-center">
                            <span id="user-initial" class="text-[10px] font-medium text-gold"></span>
                        </div>
                        <span id="user-name-display" class="text-xs text-white/60 font-light truncate max-w-[100px] sm:max-w-none"></span>
                    </div>
                    <button onclick="logout()" class="ml-1 w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors text-white/30 hover:text-white/60">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                    </button>
                </div>

                <div id="booking-container">
                    <form id="res-form" class="space-y-6">
                        <!-- Calendar Section -->
                        <div class="space-y-3">
                            <label class="block text-[9px] uppercase tracking-[0.2em] text-gold/50" data-i18n="selectDate">Odaberite datum</label>

                            <!-- Calendar Header -->
                            <div class="flex items-center justify-between mb-2">
                                <button type="button" id="prev-month" class="p-2 text-white/30 hover:text-gold transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                                    </svg>
                                </button>
                                <h3 id="calendar-month" class="text-sm font-light text-white/70"></h3>
                                <button type="button" id="next-month" class="p-2 text-white/30 hover:text-gold transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </button>
                            </div>

                            <!-- Calendar Grid -->
                            <div class="bg-white/[0.02] rounded-2xl p-4 border border-white/5">
                                <div class="grid grid-cols-7 gap-1 mb-2">
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Pon</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Uto</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Sri</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Cet</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Pet</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Sub</div>
                                    <div class="text-center text-[10px] text-white/25 font-medium py-1">Ned</div>
                                </div>
                                <div id="calendar-grid" class="grid grid-cols-7 gap-1"></div>
                                <div id="calendar-loading" class="hidden text-center py-4">
                                    <div class="inline-block w-5 h-5 border-2 border-white/10 border-t-gold rounded-full animate-spin"></div>
                                </div>
                            </div>

                            <!-- Legend -->
                            <div class="flex flex-wrap justify-center gap-3 mt-3">
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 rounded" style="background: rgba(16,185,129,0.15);"></div>
                                    <span class="text-[9px] text-white/30" data-i18n="available">Dostupno</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 rounded" style="background: rgba(245,158,11,0.15);"></div>
                                    <span class="text-[9px] text-white/30" data-i18n="limited">Ograniceno</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 rounded" style="background: rgba(239,68,68,0.15);"></div>
                                    <span class="text-[9px] text-white/30" data-i18n="full">Popunjeno</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 rounded bg-white/[0.03]"></div>
                                    <span class="text-[9px] text-white/30" data-i18n="closed">Zatvoreno</span>
                                </div>
                            </div>

                            <!-- Selected date display -->
                            <div id="selected-date-display" class="hidden text-center py-3 bg-gold text-black rounded-xl mt-3">
                                <p class="text-xs font-medium" id="selected-date-text"></p>
                            </div>

                            <input type="hidden" id="res-date" required>
                        </div>

                        <!-- Slot selection -->
                        <div class="space-y-3 scroll-reveal" id="slot-container">
                            <label class="block text-[9px] uppercase tracking-[0.2em] text-gold/50" data-i18n="availableSlots">Dostupni termini</label>
                            <div id="slots-loading" class="hidden text-center py-6">
                                <div class="inline-block w-6 h-6 border-2 border-white/10 border-t-gold rounded-full animate-spin"></div>
                                <p class="text-xs text-white/30 mt-2" data-i18n="loadingSlots">Ucitavam termine...</p>
                            </div>
                            <div id="slots-closed" class="hidden text-center py-6 bg-red-500/10 rounded-2xl border border-red-500/20">
                                <p class="text-red-400 text-sm font-medium" data-i18n="closed">Zatvoreno</p>
                                <p id="closed-reason" class="text-red-400/60 text-xs mt-1"></p>
                            </div>
                            <div id="slots-list" class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                                <p class="col-span-2 sm:col-span-3 text-center text-white/30 text-xs py-4" data-i18n="noSlots">Nema dostupnih termina</p>
                            </div>
                            <input type="hidden" id="res-slot" required>
                        </div>

                        <!-- Broj gostiju -->
                        <div class="space-y-3 scroll-reveal">
                            <label class="block text-[9px] uppercase tracking-[0.2em] text-gold/50" data-i18n="guests">Broj gostiju</label>
                            <div class="flex items-center justify-between glass rounded-2xl p-2">
                                <button type="button" onclick="updateGuests(-1)" class="w-12 h-12 flex items-center justify-center text-white/20 hover:text-gold transition-colors text-xl font-light">&#8212;</button>
                                <span id="guest-count" class="text-base font-light text-white/80">2</span>
                                <button type="button" onclick="updateGuests(1)" class="w-12 h-12 flex items-center justify-center text-white/20 hover:text-gold transition-colors text-xl font-light">+</button>
                            </div>
                        </div>

                        <!-- Posebni zahtjevi -->
                        <div class="space-y-3 scroll-reveal">
                            <label class="block text-[9px] uppercase tracking-[0.2em] text-gold/50" data-i18n="specialRequests">Posebni zahtjevi (opcionalno)</label>
                            <textarea id="res-notes" data-i18n="specialRequestsHint" rows="2" class="form-input w-full rounded-2xl p-4 text-sm font-light resize-none" placeholder="Alergije, posebni zahtjevi..."></textarea>
                        </div>

                        <!-- Cijena -->
                        <div class="pt-4 border-t border-white/5 flex justify-between items-end scroll-reveal">
                            <div>
                                <p class="text-[9px] uppercase tracking-widest text-gold/40 mb-1" data-i18n="pricePerPerson">Cijena po osobi</p>
                                <p class="text-sm font-light text-white/40">95,00 &#8364;</p>
                            </div>
                            <div class="text-right">
                                <p class="text-[9px] uppercase tracking-widest text-gold/40 mb-1" data-i18n="totalPrice">Ukupno</p>
                                <p id="total-price" class="text-2xl font-light text-gold tracking-tight">190,00 &#8364;</p>
                            </div>
                        </div>

                        <button type="submit" id="submit-btn" disabled class="w-full bg-white/10 text-white/30 py-5 rounded-2xl transition-all text-[10px] uppercase tracking-[0.4em] font-medium cursor-not-allowed" data-i18n="selectSlot">
                            Odaberite termin
                        </button>
                    </form>
                </div>

                <!-- Success screen -->
                <div id="success-screen" class="hidden text-center py-10 fade-in">
                    <div class="w-16 h-16 mx-auto mb-8 rounded-full bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                    </div>
                    <h2 class="text-xl font-light uppercase tracking-[0.3em] text-white" data-i18n="reservationSuccess">Uspjesno</h2>
                    <p id="summary-text" class="text-white/40 text-xs mt-6 leading-relaxed px-6 font-light"></p>
                    <div class="mt-12">
                        <a href="/" class="text-[9px] uppercase tracking-[0.2em] text-gold/50 hover:text-gold border-b border-transparent hover:border-gold/30 transition-all pb-1" data-i18n="backToHome">
                            Natrag na pocetnu
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#050505] pt-10 sm:pt-12 md:pt-16 pb-8 sm:pb-10 relative">
        <div class="absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-gold/10 to-transparent"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-12">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-5 sm:gap-6 md:gap-8 mb-6 sm:mb-8 md:mb-10">
                <span class="text-lg sm:text-xl md:text-2xl tracking-[0.4em] sm:tracking-[0.5em] md:tracking-[0.6em] uppercase font-light text-white/80">Aura</span>
                <div class="flex items-center gap-5 sm:gap-6 md:gap-8 flex-wrap justify-center">
                    <a href="index.html" class="footer-link text-white/30 text-xs sm:text-sm hover:text-gold transition" data-i18n="home">Pocetna</a>
                    <a href="menu.html" class="footer-link text-white/30 text-xs sm:text-sm hover:text-gold transition" data-i18n="menu">Menu</a>
                    <a href="contact.html" class="footer-link text-white/30 text-xs sm:text-sm hover:text-gold transition" data-i18n="contact">Kontakt</a>
                </div>
            </div>
            <div class="h-[1px] bg-gradient-to-r from-transparent via-white/5 to-transparent mb-5 sm:mb-6 md:mb-8"></div>
            <div class="flex flex-col sm:flex-row justify-between items-center gap-2 text-center">
                <p class="text-white/15 text-[9px] sm:text-[10px] uppercase tracking-[0.15em] sm:tracking-[0.2em]" data-i18n="copyright">&copy; 2026 Aura Fine Dining</p>
                <p class="text-white/15 text-[9px] sm:text-[10px] uppercase tracking-[0.15em] sm:tracking-[0.2em]" data-i18n="hours">Svaki dan, 12:00 - 21:00</p>
            </div>
        </div>
    </footer>

    <script>
        let guests = 2;
        let selectedSlot = null;
        let selectedDate = null;
        const pricePerPerson = 95;
        let currentUser = null;
        let authToken = null;

        const dayNames = ['Nedjelja', 'Ponedjeljak', 'Utorak', 'Srijeda', 'Cetvrtak', 'Petak', 'Subota'];
        const monthNames = ['Sijecanj', 'Veljaca', 'Ozujak', 'Travanj', 'Svibanj', 'Lipanj',
                           'Srpanj', 'Kolovoz', 'Rujan', 'Listopad', 'Studeni', 'Prosinac'];
        const monthNamesGenitive = ['Sijecnja', 'Veljace', 'Ozujka', 'Travnja', 'Svibnja', 'Lipnja',
                           'Srpnja', 'Kolovoza', 'Rujna', 'Listopada', 'Studenog', 'Prosinca'];

        // Calendar state
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let calendarData = {};

        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        const maxDate = new Date(2026, 11, 31);

        // ==================== AUTH ====================
        document.addEventListener('DOMContentLoaded', async () => {
            const savedToken = localStorage.getItem('authToken');
            const savedUser = localStorage.getItem('authUser');

            if (savedToken && savedUser) {
                authToken = savedToken;
                try {
                    currentUser = JSON.parse(savedUser);
                    hideAuthModal();
                    showUserBar();
                } catch {
                    // parse fail
                }

                try {
                    const response = await fetch('/api/auth/verify', {
                        headers: { 'Authorization': `Bearer ${savedToken}` }
                    });
                    if (response.ok) {
                        const data = await response.json();
                        currentUser = data.user;
                        localStorage.setItem('authUser', JSON.stringify(data.user));
                    } else if (response.status === 401) {
                        localStorage.removeItem('authToken');
                        localStorage.removeItem('authUser');
                        authToken = null;
                        currentUser = null;
                        document.getElementById('user-bar').classList.add('hidden');
                        showAuthModal();
                    }
                } catch (e) {
                    console.log('Server nedostupan, koristim lokalne podatke');
                }
            } else if (savedToken) {
                try {
                    const response = await fetch('/api/auth/verify', {
                        headers: { 'Authorization': `Bearer ${savedToken}` }
                    });
                    if (response.ok) {
                        const data = await response.json();
                        authToken = savedToken;
                        currentUser = data.user;
                        localStorage.setItem('authUser', JSON.stringify(data.user));
                        hideAuthModal();
                        showUserBar();
                    } else {
                        localStorage.removeItem('authToken');
                        showAuthModal();
                    }
                } catch {
                    showAuthModal();
                }
            } else {
                showAuthModal();
            }

            renderCalendar();
            loadMonthAvailability();
            updateCalendarNavButtons();

            const todayStr = formatDate(today);
            selectedDate = todayStr;
            document.getElementById('res-date').value = todayStr;

            const todayDate = new Date(todayStr);
            const dayName = dayNames[todayDate.getDay()];
            const dayNum = todayDate.getDate();
            const monthName = monthNamesGenitive[todayDate.getMonth()];
            document.getElementById('selected-date-display').classList.remove('hidden');
            document.getElementById('selected-date-text').textContent = `${dayName}, ${dayNum}. ${monthName} ${todayDate.getFullYear()}`;

            loadAvailableSlots(todayStr);
        });

        function showAuthModal() {
            document.getElementById('auth-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            document.getElementById('reservationCard').classList.add('content-hidden');
            document.getElementById('reservationCard').classList.remove('content-visible');
        }

        function hideAuthModal() {
            document.getElementById('auth-modal').classList.add('hidden');
            document.body.style.overflow = '';
            var card = document.getElementById('reservationCard');
            card.classList.remove('content-hidden');
            card.classList.add('content-visible');
        }

        function showLogin() {
            document.getElementById('login-form-container').classList.remove('hidden');
            document.getElementById('register-form-container').classList.add('hidden');
        }

        function showRegister() {
            document.getElementById('login-form-container').classList.add('hidden');
            document.getElementById('register-form-container').classList.remove('hidden');
        }

        function showUserBar() {
            document.getElementById('user-bar').classList.remove('hidden');
            document.getElementById('user-name-display').textContent = currentUser.name;
            document.getElementById('user-initial').textContent = currentUser.name.charAt(0).toUpperCase();
        }

        async function logout() {
            if (authToken) {
                try {
                    await fetch('/api/auth/logout', {
                        method: 'POST',
                        headers: { 'Authorization': `Bearer ${authToken}` }
                    });
                } catch (e) {}
            }
            localStorage.removeItem('authToken');
            localStorage.removeItem('authUser');
            authToken = null;
            currentUser = null;
            document.getElementById('user-bar').classList.add('hidden');
            showAuthModal();
            showRegister();
        }

        document.getElementById('login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const errorEl = document.getElementById('login-error');
            errorEl.classList.add('hidden');

            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();

                if (response.ok) {
                    authToken = data.token;
                    currentUser = data.user;
                    localStorage.setItem('authToken', authToken);
                    localStorage.setItem('authUser', JSON.stringify(data.user));
                    hideAuthModal();
                    showUserBar();
                } else {
                    errorEl.textContent = data.error || 'Greska pri prijavi';
                    errorEl.classList.remove('hidden');
                }
            } catch {
                errorEl.textContent = 'Greska pri povezivanju sa serverom';
                errorEl.classList.remove('hidden');
            }
        });

        document.getElementById('register-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const errorEl = document.getElementById('register-error');
            errorEl.classList.add('hidden');

            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const phone = document.getElementById('reg-phone').value;
            const password = document.getElementById('reg-password').value;

            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email, phone, password })
                });

                const data = await response.json();

                if (response.ok) {
                    authToken = data.token;
                    currentUser = data.user;
                    localStorage.setItem('authToken', authToken);
                    localStorage.setItem('authUser', JSON.stringify(data.user));
                    hideAuthModal();
                    showUserBar();
                } else {
                    errorEl.textContent = data.error || 'Greska pri registraciji';
                    errorEl.classList.remove('hidden');
                }
            } catch {
                errorEl.textContent = 'Greska pri povezivanju sa serverom';
                errorEl.classList.remove('hidden');
            }
        });

        // ==================== CALENDAR ====================
        const minMonth = new Date().getMonth();
        const minYear = new Date().getFullYear();
        const maxMonth = 11;
        const maxYear = 2026;

        function updateCalendarNavButtons() {
            const prevBtn = document.getElementById('prev-month');
            const nextBtn = document.getElementById('next-month');

            const canGoPrev = currentYear > minYear || (currentYear === minYear && currentMonth > minMonth);
            const canGoNext = currentYear < maxYear || (currentYear === maxYear && currentMonth < maxMonth);

            prevBtn.disabled = !canGoPrev;
            prevBtn.style.opacity = canGoPrev ? '1' : '0.3';
            prevBtn.style.cursor = canGoPrev ? 'pointer' : 'not-allowed';

            nextBtn.disabled = !canGoNext;
            nextBtn.style.opacity = canGoNext ? '1' : '0.3';
            nextBtn.style.cursor = canGoNext ? 'pointer' : 'not-allowed';
        }

        document.getElementById('prev-month').addEventListener('click', () => {
            const canGoPrev = currentYear > minYear || (currentYear === minYear && currentMonth > minMonth);
            if (!canGoPrev) return;

            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            renderCalendar();
            loadMonthAvailability();
            updateCalendarNavButtons();
        });

        document.getElementById('next-month').addEventListener('click', () => {
            const canGoNext = currentYear < maxYear || (currentYear === maxYear && currentMonth < maxMonth);
            if (!canGoNext) return;

            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar();
            loadMonthAvailability();
            updateCalendarNavButtons();
        });

        function renderCalendar() {
            const grid = document.getElementById('calendar-grid');
            const monthLabel = document.getElementById('calendar-month');

            monthLabel.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            grid.innerHTML = '';

            const firstDay = new Date(currentYear, currentMonth, 1);
            let startDay = firstDay.getDay() - 1;
            if (startDay < 0) startDay = 6;

            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

            for (let i = 0; i < startDay; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'cal-day cal-disabled';
                grid.appendChild(emptyCell);
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentYear, currentMonth, day);
                const dateStr = formatDate(date);
                const isToday = date.toDateString() === today.toDateString();

                const dayCell = document.createElement('button');
                dayCell.type = 'button';
                dayCell.className = 'cal-day flex items-center justify-center text-sm';
                dayCell.textContent = day;
                dayCell.dataset.date = dateStr;

                const todayStr = formatDate(today);
                const isPast = dateStr < todayStr;
                const isFuture = date > maxDate;

                if (isPast || isFuture) {
                    dayCell.classList.add('cal-past');
                } else {
                    dayCell.classList.add('cal-available');
                    dayCell.addEventListener('click', () => selectDateFromCalendar(dateStr, dayCell));
                }

                if (isToday) {
                    dayCell.classList.add('cal-today');
                }

                if (selectedDate === dateStr) {
                    dayCell.classList.add('cal-selected');
                }

                grid.appendChild(dayCell);
            }
        }

        async function loadMonthAvailability() {
            const grid = document.getElementById('calendar-grid');
            const loading = document.getElementById('calendar-loading');

            loading.classList.remove('hidden');

            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const dates = [];

            const todayStr = formatDate(today);
            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentYear, currentMonth, day);
                const dateStr = formatDate(date);
                if (dateStr >= todayStr && date <= maxDate) {
                    dates.push(dateStr);
                }
            }

            try {
                calendarData = {};

                const promises = dates.map(async (dateStr) => {
                    const response = await fetch(`/api/schedule/available/${dateStr}?_=${Date.now()}`);
                    const data = await response.json();
                    calendarData[dateStr] = data;
                    return { date: dateStr, ...data };
                });

                const results = await Promise.all(promises);

                results.forEach(result => {
                    const cell = grid.querySelector(`[data-date="${result.date}"]`);
                    if (!cell) return;

                    cell.classList.remove('cal-available', 'cal-limited', 'cal-full', 'cal-closed');

                    if (result.isClosed) {
                        cell.classList.add('cal-closed');
                        cell.title = result.reason || 'Zatvoreno';
                    } else {
                        const allSlots = result.allSlots || result.slots || [];
                        const totalSlots = allSlots.length || 12;
                        const availableSlots = allSlots.filter(s => s.available > 0).length;
                        const takenSlots = totalSlots - availableSlots;

                        if (availableSlots === 0) {
                            cell.classList.add('cal-full');
                            cell.title = 'Popunjeno';
                        } else if (takenSlots > totalSlots / 2) {
                            cell.classList.add('cal-limited');
                            cell.title = `Ogranicena dostupnost (${availableSlots} slobodnih termina)`;
                        } else {
                            cell.classList.add('cal-available');
                            cell.title = `${availableSlots} termina dostupno`;
                        }
                    }

                    if (selectedDate === result.date) {
                        cell.classList.add('cal-selected');
                    }
                });

            } catch (error) {
                console.error('Error loading availability:', error);
            }

            loading.classList.add('hidden');
        }

        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function selectDateFromCalendar(dateStr, cell) {
            if (cell.classList.contains('cal-closed') || cell.classList.contains('cal-full')) {
                return;
            }

            document.querySelectorAll('.cal-day.cal-selected').forEach(c => c.classList.remove('cal-selected'));

            cell.classList.add('cal-selected');
            selectedDate = dateStr;
            document.getElementById('res-date').value = dateStr;

            const date = new Date(dateStr);
            const dayName = dayNames[date.getDay()];
            const dayNum = date.getDate();
            const monthName = monthNamesGenitive[date.getMonth()];

            document.getElementById('selected-date-display').classList.remove('hidden');
            document.getElementById('selected-date-text').textContent = `${dayName}, ${dayNum}. ${monthName} ${date.getFullYear()}`;

            loadAvailableSlots(dateStr);
        }

        // ==================== SLOTS ====================
        async function loadAvailableSlots(dateStr) {
            const slotsLoading = document.getElementById('slots-loading');
            const slotsClosed = document.getElementById('slots-closed');
            const slotsList = document.getElementById('slots-list');
            const submitBtn = document.getElementById('submit-btn');

            slotsLoading.classList.remove('hidden');
            slotsClosed.classList.add('hidden');
            slotsList.innerHTML = '';
            selectedSlot = null;
            document.getElementById('res-slot').value = '';
            submitBtn.disabled = true;
            submitBtn.classList.add('bg-white/10', 'text-white/30', 'cursor-not-allowed');
            submitBtn.classList.remove('bg-gold', 'text-black', 'hover:shadow-[0_0_30px_rgba(201,169,110,0.3)]', 'cursor-pointer');
            submitBtn.textContent = 'Odaberite termin';

            try {
                const response = await fetch(`/api/schedule/available/${dateStr}?_=${Date.now()}`);
                const data = await response.json();
                calendarData[dateStr] = data;

                slotsLoading.classList.add('hidden');

                if (data.isClosed) {
                    slotsClosed.classList.remove('hidden');
                    document.getElementById('closed-reason').textContent = data.reason || 'Restoran ne radi ovaj dan';
                    return;
                }

                const allTimeSlots = data.allSlots || data.AllSlots || data.slots || data.Slots || [];

                console.log('Loaded slots for', dateStr, ':', allTimeSlots.length, 'slots');

                if (allTimeSlots.length === 0) {
                    console.log('No slots found. Full data:', JSON.stringify(data));
                    slotsList.innerHTML = '<p class="col-span-3 text-center text-white/30 text-xs py-4">Nema dostupnih termina</p>';
                    return;
                }

                allTimeSlots.forEach(slot => {
                    const btn = document.createElement('button');
                    btn.type = 'button';

                    const isFull = slot.available <= 0;

                    if (isFull) {
                        btn.className = 'slot-btn slot-full rounded-xl py-3 px-2 text-sm border border-red-500/20';
                        btn.disabled = true;
                        btn.innerHTML = `
                            <span class="slot-time block font-medium">${slot.time}</span>
                            <span class="slot-status block text-[10px]">Popunjeno</span>
                        `;
                    } else {
                        btn.className = 'slot-btn rounded-xl py-3 px-2 text-sm border border-emerald-500/20 hover:border-emerald-500/40 transition-all';
                        btn.style.background = 'rgba(16,185,129,0.08)';
                        btn.innerHTML = `
                            <span class="block font-medium text-emerald-400">${slot.time}</span>
                            <span class="block text-[10px] text-emerald-400/60">Slobodno</span>
                        `;
                        btn.onclick = () => selectSlot(slot.time, btn);
                    }

                    slotsList.appendChild(btn);
                });

                if (data.openTime && data.closeTime) {
                    const hoursInfo = document.createElement('p');
                    hoursInfo.className = 'col-span-3 text-center text-white/20 text-[10px] mt-2';
                    hoursInfo.textContent = `Radno vrijeme: ${data.openTime} - ${data.closeTime}`;
                    slotsList.appendChild(hoursInfo);
                }

            } catch (error) {
                console.error('Error loading slots:', error);
                slotsLoading.classList.add('hidden');
                slotsList.innerHTML = '<p class="col-span-3 text-center text-red-400 text-xs py-4">Greska pri ucitavanju termina</p>';
            }
        }

        function selectSlot(time, btn) {
            document.querySelectorAll('.slot-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            selectedSlot = time;
            document.getElementById('res-slot').value = time;

            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = false;
            submitBtn.classList.remove('bg-white/10', 'text-white/30', 'cursor-not-allowed');
            submitBtn.classList.add('bg-gold', 'text-black', 'hover:shadow-[0_0_30px_rgba(201,169,110,0.3)]', 'cursor-pointer');
            submitBtn.textContent = 'Potvrdi rezervaciju';
        }

        function updateGuests(val) {
            guests += val;
            if (guests < 1) guests = 1;
            if (guests > 8) guests = 8;

            document.getElementById('guest-count').innerText = guests;
            document.getElementById('total-price').innerText = (guests * pricePerPerson).toLocaleString('hr-HR', {minimumFractionDigits: 2}) + ' \u20AC';
        }

        // ==================== FORM SUBMIT ====================
        document.getElementById('res-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            if (!authToken || !currentUser) {
                showAuthModal();
                return;
            }

            if (!selectedSlot || !selectedDate) {
                alert('Molimo odaberite datum i termin');
                return;
            }

            const submitBtn = document.getElementById('submit-btn');
            submitBtn.textContent = 'Saljem...';
            submitBtn.disabled = true;

            const dateObj = new Date(selectedDate + 'T12:00:00');
            const dayName = dayNames[dateObj.getDay()];
            const dayNum = dateObj.getDate();
            const monthName = monthNamesGenitive[dateObj.getMonth()];
            const year = dateObj.getFullYear();

            const reservation = {
                date: selectedDate,
                time: selectedSlot,
                guests: parseInt(guests),
                specialRequests: document.getElementById('res-notes').value || null
            };

            console.log('Sending reservation:', JSON.stringify(reservation));

            try {
                const response = await fetch('/api/reservations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify(reservation)
                });

                console.log('Response status:', response.status);

                if (response.ok) {
                    const totalPrice = (guests * pricePerPerson).toLocaleString('hr-HR', {minimumFractionDigits: 2});

                    document.getElementById('booking-container').classList.add('hidden');
                    document.getElementById('user-bar').classList.add('hidden');
                    const success = document.getElementById('success-screen');
                    success.classList.remove('hidden');

                    document.getElementById('summary-text').innerHTML =
                        `Vasa rezervacija za <b class="text-white/80">${guests} ${guests === 1 ? 'osobu' : guests < 5 ? 'osobe' : 'osoba'}</b> je zaprimljena.<br><br>` +
                        `<span class="text-gold/40 uppercase tracking-widest text-[10px]">Datum:</span><br><b class="text-white/80">${dayName}, ${dayNum}. ${monthName} ${year}</b><br><br>` +
                        `<span class="text-gold/40 uppercase tracking-widest text-[10px]">Termin:</span><br><b class="text-white/80">${selectedSlot}</b><br><br>` +
                        `<span class="text-gold/40 uppercase tracking-widest text-[10px]">Ukupni iznos:</span><br><span class="text-gold text-base">${totalPrice} \u20AC</span><br><br>` +
                        `<span class="text-white/20 text-[9px]">Potvrda je poslana na ${currentUser.email}</span>`;
                } else if (response.status === 401) {
                    localStorage.removeItem('authToken');
                    authToken = null;
                    currentUser = null;
                    showAuthModal();
                    submitBtn.textContent = 'Potvrdi rezervaciju';
                    submitBtn.disabled = false;
                } else {
                    const errorText = await response.text();
                    console.error('Error response:', errorText);
                    let errorMessage = 'Greska prilikom slanja';
                    try {
                        const errorJson = JSON.parse(errorText);
                        errorMessage = errorJson.error || errorJson.title || errorText;
                    } catch (e) {
                        errorMessage = errorText || 'Greska prilikom slanja';
                    }
                    throw new Error(errorMessage);
                }
            } catch (error) {
                console.error('Reservation error:', error);
                alert(error.message || 'Greska prilikom spremanja rezervacije. Pokusajte ponovo.');
                submitBtn.textContent = 'Potvrdi rezervaciju';
                submitBtn.disabled = false;
            }
        });

        // Mobile menu
        var menuOpen = false;
        function toggleMobileMenu() {
            menuOpen = !menuOpen;
            var menu = document.getElementById('mobileMenu');
            var lines = document.querySelectorAll('.menu-line');
            if (menuOpen) {
                menu.style.opacity = '1'; menu.style.pointerEvents = 'all';
                lines[0].style.transform = 'rotate(45deg) translateY(4px)';
                lines[1].style.transform = 'rotate(-45deg) translateY(-4px)';
                document.body.style.overflow = 'hidden';
            } else {
                menu.style.opacity = '0'; menu.style.pointerEvents = 'none';
                lines[0].style.transform = ''; lines[1].style.transform = '';
                document.body.style.overflow = '';
            }
        }
    </script>
    <script>
        const scrollObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.15, rootMargin: '0px 0px -80px 0px' });
        document.querySelectorAll('.scroll-reveal, .reveal-up, .reveal-scale').forEach(el => scrollObserver.observe(el));
    </script>
    <script src="/js/smooth-scroll.js?v=1770336477"></script>
    <script src="/js/i18n.js?v=4"></script>
</body>
</html>
